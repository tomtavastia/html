<!DOCTYPE html>
<html>
<head>
<meta charset='UTF-8'>
<title>Murtolukulomake</title>

<script src="https://polyfill.io/v3/polyfill.min.js?features=es6"></script>
<script id="MathJax-script" async
 src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js">
</script>


<script type="text/javascript">
function simplifyFraction(numerator, denominator) {
    function gcd(a, b) {
        return b ? gcd(b, a % b) : a;
    }
    let g = gcd(numerator, denominator);
    return [numerator / g, denominator / g];
}

function parseFraction(input) {
    input = input.trim();
    if (input.includes('/')) {
        let parts = input.split('/');
        let num = parseInt(parts[0]);
        let den = parseInt(parts[1]);
        if (!isNaN(num) && !isNaN(den) && den !== 0) {
            return num / den;
        }
    } else {
        let val = parseFloat(input);
        if (!isNaN(val)) return val;
    }
    return null;
}

function checkAnswers() {
    const correctAnswers = [
        5/6, 7/20, 1/2, 5/4, 1, 7/10, 5/7, 1, 1/2, 5/4
    ];
    const steps = [
        "1/2 + 1/3 = (3+2)/6 = 5/6",
        "3/4 - 2/5 = (15-8)/20 = 7/20",
        "2/3 × 3/4 = 6/12 = 1/2",
        "5/6 ÷ 2/3 = 5/6 × 3/2 = 15/12 = 5/4",
        "7/8 + 1/8 = 8/8 = 1",
        "4/5 - 1/10 = (8-1)/10 = 7/10",
        "3/7 + 2/7 = 5/7",
        "6/9 × 3/2 = 2/3 × 3/2 = 6/6 = 1",
        "9/10 - 2/5 = (9-4)/10 = 5/10 = 1/2",
        "3/4 + 1/2 = (3+2)/4 = 5/4"
    ];

    for (let i = 0; i < correctAnswers.length; i++) {
        let userInput = document.getElementById("answer" + (i+1)).value;
        let userValue = parseFraction(userInput);
        let correctValue = correctAnswers[i];
        let resultDiv = document.getElementById("result" + (i+1));
        if (userValue === null) {
            resultDiv.innerHTML = "<span style='color: orange;'>Virheellinen syöte</span>";
        } else if (Math.abs(userValue - correctValue) < 0.001) {
            resultDiv.innerHTML = "<span style='color: green;'>Oikein!</span>";
        } else {
            resultDiv.innerHTML = "<span style='color: red;'>Väärin. Oikea vastaus: " + steps[i] + "</span>";
        }
    }
}
</script>

</head>
<body>
<h1>Murtolukulaskujen arviointilomake</h1>
<p>Syötä vastauksesi murtolukulaskuihin:</p>
<form>
<p>1. $$ \frac{1}{2} + \frac{1}{3} $$<br><input type='text' id='answer1' /> <div id='result1'></div></p>
<p>2. $$ \frac{3}{4} - \frac{2}{5} $$<br><input type='text' id='answer2' /> <div id='result2'></div></p>
<p>3. $$ \frac{2}{3} \times \frac{3}{4} $$<br><input type='text' id='answer3' /> <div id='result3'></div></p>
<p>4. $$ \frac{5}{6} \div \frac{2}{3} $$<br><input type='text' id='answer4' /> <div id='result4'></div></p>
<p>5. $$ \frac{7}{8} + \frac{1}{8} $$<br><input type='text' id='answer5' /> <div id='result5'></div></p>
<p>6. $$ \frac{4}{5} - \frac{1}{10} $$<br><input type='text' id='answer6' /> <div id='result6'></div></p>
<p>7. $$ \frac{3}{7} + \frac{2}{7} $$<br><input type='text' id='answer7' /> <div id='result7'></div></p>
<p>8. $$ \frac{6}{9} \times \frac{3}{2} $$<br><input type='text' id='answer8' /> <div id='result8'></div></p>
<p>9. $$ \frac{9}{10} - \frac{2}{5} $$<br><input type='text' id='answer9' /> <div id='result9'></div></p>
<p>10. $$ \frac{3}{4} + \frac{1}{2} $$<br><input type='text' id='answer10' /> <div id='result10'></div></p>
<button type='button' onclick='checkAnswers()'>Tarkista vastaukset</button>
</form>

</body>
</html>